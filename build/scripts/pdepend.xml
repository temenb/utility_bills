<project default="pdepend">

    <property name="pdepend-result" location="${artifacts-dir}/jdepend.xml"/>

    <target name="pdepend" depends="pdepend-clear-artifacts" description="Calculate software metrics using PHP_Depend">
        <exec executable="${bin-dir}/pdepend">
            <arg value="--jdepend-xml=${pdepend-result}"/>
            <arg value="--jdepend-chart=${build-dir}/pdepend/dependencies.svg"/>
            <arg value="--overview-pyramid=${build-dir}/pdepend/overview-pyramid.svg"/>
            <!--<arg line="${source-dir},${app-dir}/Resources"/>-->
        </exec>
    </target>

    <target name="pdepend-clear-artifacts">
        <delete dir="${pdepend-result}" failonerror="true" />
        <mkdir  dir="${artifacts-dir}"/>
    </target>

</project>
